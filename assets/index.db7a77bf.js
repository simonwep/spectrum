var ht=Object.defineProperty,pt=Object.defineProperties;var mt=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var vt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable;var Se=(e,t,n)=>t in e?ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))vt.call(t,n)&&Se(e,n,t[n]);if(ke)for(var n of ke(t))gt.call(t,n)&&Se(e,n,t[n]);return e},te=(e,t)=>pt(e,mt(t));const yt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};yt();var j,m,je,We,N,qe,Ee,Ge,K={},Ye=[],bt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function L(e,t){for(var n in t)e[n]=t[n];return e}function Ze(e){var t=e.parentNode;t&&t.removeChild(e)}function ie(e,t,n){var o,i,r,c={};for(r in t)r=="key"?o=t[r]:r=="ref"?i=t[r]:c[r]=t[r];if(arguments.length>2&&(c.children=arguments.length>3?j.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)c[r]===void 0&&(c[r]=e.defaultProps[r]);return z(e,c,o,i,null)}function z(e,t,n,o,i){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++je:i};return i==null&&m.vnode!=null&&m.vnode(r),r}function wt(){return{current:null}}function W(e){return e.children}function H(e,t){this.props=e,this.context=t}function D(e,t){if(t==null)return e.__?D(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?D(e):null}function Ke(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ke(e)}}function se(e){(!e.__d&&(e.__d=!0)&&N.push(e)&&!V.__r++||Ee!==m.debounceRendering)&&((Ee=m.debounceRendering)||qe)(V)}function V(){for(var e;V.__r=N.length;)e=N.sort(function(t,n){return t.__v.__b-n.__v.__b}),N=[],e.some(function(t){var n,o,i,r,c,d;t.__d&&(c=(r=(n=t).__v).__e,(d=n.__P)&&(o=[],(i=L({},r)).__v=r.__v+1,de(d,r,i,n.__n,d.ownerSVGElement!==void 0,r.__h!=null?[c]:null,o,c==null?D(r):c,r.__h),et(o,r),r.__e!=c&&Ke(r)))})}function Ve(e,t,n,o,i,r,c,d,f,a){var s,u,h,l,p,g,v,y=o&&o.__k||Ye,k=y.length;for(n.__k=[],s=0;s<t.length;s++)if((l=n.__k[s]=(l=t[s])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?z(null,l,null,null,l):Array.isArray(l)?z(W,{children:l},null,null,null):l.__b>0?z(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=n,l.__b=n.__b+1,(h=y[s])===null||h&&l.key==h.key&&l.type===h.type)y[s]=void 0;else for(u=0;u<k;u++){if((h=y[u])&&l.key==h.key&&l.type===h.type){y[u]=void 0;break}h=null}de(e,l,h=h||K,i,r,c,d,f,a),p=l.__e,(u=l.ref)&&h.ref!=u&&(v||(v=[]),h.ref&&v.push(h.ref,null,l),v.push(u,l.__c||p,l)),p!=null?(g==null&&(g=p),typeof l.type=="function"&&l.__k===h.__k?l.__d=f=Qe(l,f,e):f=Je(e,l,h,y,p,f),typeof n.type=="function"&&(n.__d=f)):f&&h.__e==f&&f.parentNode!=e&&(f=D(h))}for(n.__e=g,s=k;s--;)y[s]!=null&&(typeof n.type=="function"&&y[s].__e!=null&&y[s].__e==n.__d&&(n.__d=D(o,s+1)),nt(y[s],y[s]));if(v)for(s=0;s<v.length;s++)tt(v[s],v[++s],v[++s])}function Qe(e,t,n){for(var o,i=e.__k,r=0;i&&r<i.length;r++)(o=i[r])&&(o.__=e,t=typeof o.type=="function"?Qe(o,t,n):Je(n,o,o,i,o.__e,t));return t}function Xe(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){Xe(n,t)}):t.push(e)),t}function Je(e,t,n,o,i,r){var c,d,f;if(t.__d!==void 0)c=t.__d,t.__d=void 0;else if(n==null||i!=r||i.parentNode==null)e:if(r==null||r.parentNode!==e)e.appendChild(i),c=null;else{for(d=r,f=0;(d=d.nextSibling)&&f<o.length;f+=2)if(d==i)break e;e.insertBefore(i,r),c=r}return c!==void 0?c:i.nextSibling}function kt(e,t,n,o,i){var r;for(r in n)r==="children"||r==="key"||r in t||Q(e,r,null,n[r],o);for(r in t)i&&typeof t[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===t[r]||Q(e,r,t[r],n[r],o)}function xe(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||bt.test(t)?n:n+"px"}function Q(e,t,n,o,i){var r;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||xe(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||xe(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o||e.addEventListener(t,r?Ae:$e,r):e.removeEventListener(t,r?Ae:$e,r);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function $e(e){this.l[e.type+!1](m.event?m.event(e):e)}function Ae(e){this.l[e.type+!0](m.event?m.event(e):e)}function de(e,t,n,o,i,r,c,d,f){var a,s,u,h,l,p,g,v,y,k,E,b=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(f=n.__h,d=t.__e=n.__e,t.__h=null,r=[d]),(a=m.__b)&&a(t);try{e:if(typeof b=="function"){if(v=t.props,y=(a=b.contextType)&&o[a.__c],k=a?y?y.props.value:a.__:o,n.__c?g=(s=t.__c=n.__c).__=s.__E:("prototype"in b&&b.prototype.render?t.__c=s=new b(v,k):(t.__c=s=new H(v,k),s.constructor=b,s.render=Et),y&&y.sub(s),s.props=v,s.state||(s.state={}),s.context=k,s.__n=o,u=s.__d=!0,s.__h=[]),s.__s==null&&(s.__s=s.state),b.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=L({},s.__s)),L(s.__s,b.getDerivedStateFromProps(v,s.__s))),h=s.props,l=s.state,u)b.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(b.getDerivedStateFromProps==null&&v!==h&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(v,k),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(v,s.__s,k)===!1||t.__v===n.__v){s.props=v,s.state=s.__s,t.__v!==n.__v&&(s.__d=!1),s.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(S){S&&(S.__=t)}),s.__h.length&&c.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(v,s.__s,k),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(h,l,p)})}s.context=k,s.props=v,s.state=s.__s,(a=m.__r)&&a(t),s.__d=!1,s.__v=t,s.__P=e,a=s.render(s.props,s.state,s.context),s.state=s.__s,s.getChildContext!=null&&(o=L(L({},o),s.getChildContext())),u||s.getSnapshotBeforeUpdate==null||(p=s.getSnapshotBeforeUpdate(h,l)),E=a!=null&&a.type===W&&a.key==null?a.props.children:a,Ve(e,Array.isArray(E)?E:[E],t,n,o,i,r,c,d,f),s.base=t.__e,t.__h=null,s.__h.length&&c.push(s),g&&(s.__E=s.__=null),s.__e=!1}else r==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=St(n.__e,t,n,o,i,r,c,f);(a=m.diffed)&&a(t)}catch(S){t.__v=null,(f||r!=null)&&(t.__e=d,t.__h=!!f,r[r.indexOf(d)]=null),m.__e(S,t,n)}}function et(e,t){m.__c&&m.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(o){o.call(n)})}catch(o){m.__e(o,n.__v)}})}function St(e,t,n,o,i,r,c,d){var f,a,s,u=n.props,h=t.props,l=t.type,p=0;if(l==="svg"&&(i=!0),r!=null){for(;p<r.length;p++)if((f=r[p])&&"setAttribute"in f==!!l&&(l?f.localName===l:f.nodeType===3)){e=f,r[p]=null;break}}if(e==null){if(l===null)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,h.is&&h),r=null,d=!1}if(l===null)u===h||d&&e.data===h||(e.data=h);else{if(r=r&&j.call(e.childNodes),a=(u=n.props||K).dangerouslySetInnerHTML,s=h.dangerouslySetInnerHTML,!d){if(r!=null)for(u={},p=0;p<e.attributes.length;p++)u[e.attributes[p].name]=e.attributes[p].value;(s||a)&&(s&&(a&&s.__html==a.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if(kt(e,h,u,i,d),s)t.__k=[];else if(p=t.props.children,Ve(e,Array.isArray(p)?p:[p],t,n,o,i&&l!=="foreignObject",r,c,r?r[0]:n.__k&&D(n,0),d),r!=null)for(p=r.length;p--;)r[p]!=null&&Ze(r[p]);d||("value"in h&&(p=h.value)!==void 0&&(p!==e.value||l==="progress"&&!p||l==="option"&&p!==u.value)&&Q(e,"value",p,u.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==e.checked&&Q(e,"checked",p,u.checked,!1))}return e}function tt(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){m.__e(o,n)}}function nt(e,t,n){var o,i;if(m.unmount&&m.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||tt(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){m.__e(r,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&nt(o[i],t,typeof e.type!="function");n||e.__e==null||Ze(e.__e),e.__e=e.__d=void 0}function Et(e,t,n){return this.constructor(e,n)}function he(e,t,n){var o,i,r;m.__&&m.__(e,t),i=(o=typeof n=="function")?null:n&&n.__k||t.__k,r=[],de(t,e=(!o&&n||t).__k=ie(W,null,[e]),i||K,K,t.ownerSVGElement!==void 0,!o&&n?[n]:i?null:t.firstChild?j.call(t.childNodes):null,r,!o&&n?n:i?i.__e:t.firstChild,o),et(r,e)}function rt(e,t){he(e,t,rt)}function xt(e,t,n){var o,i,r,c=L({},e.props);for(r in t)r=="key"?o=t[r]:r=="ref"?i=t[r]:c[r]=t[r];return arguments.length>2&&(c.children=arguments.length>3?j.call(arguments,2):n),z(e.type,c,o||e.key,i||e.ref,null)}function $t(e,t){var n={__c:t="__cC"+Ge++,__:e,Consumer:function(o,i){return o.children(i)},Provider:function(o){var i,r;return this.getChildContext||(i=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&i.some(se)},this.sub=function(c){i.push(c);var d=c.componentWillUnmount;c.componentWillUnmount=function(){i.splice(i.indexOf(c),1),d&&d.call(c)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}j=Ye.slice,m={__e:function(e,t,n,o){for(var i,r,c;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(e)),c=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,o||{}),c=i.__d),c)return i.__E=i}catch(d){e=d}throw e}},je=0,We=function(e){return e!=null&&e.constructor===void 0},H.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=L({},this.state),typeof e=="function"&&(e=e(L({},n),this.props)),e&&L(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),se(this))},H.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),se(this))},H.prototype.render=W,N=[],qe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,V.__r=0,Ge=0;var At=Object.freeze(Object.defineProperty({__proto__:null,render:he,hydrate:rt,createElement:ie,h:ie,Fragment:W,createRef:wt,get isValidElement(){return We},Component:H,cloneElement:xt,createContext:$t,toChildArray:Xe,get options(){return m}},Symbol.toStringTag,{value:"Module"}));try{self["workbox:window:6.5.2"]&&_()}catch{}function Ce(e,t){return new Promise(function(n){var o=new MessageChannel;o.port1.onmessage=function(i){n(i.data)},e.postMessage(t,[o.port2])})}function Ct(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Be(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Bt(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(i,r){if(i){if(typeof i=="string")return Be(i,r);var c=Object.prototype.toString.call(i).slice(8,-1);return c==="Object"&&i.constructor&&(c=i.constructor.name),c==="Map"||c==="Set"?Array.from(i):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Be(i,r):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var ne=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function re(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var O=function(e,t){this.type=e,Object.assign(this,t)};function G(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Lt(){}var Mt={type:"SKIP_WAITING"};function Le(e,t){if(!t)return e&&e.then?e.then(Lt):Promise.resolve()}var Pt=function(e){var t,n;function o(d,f){var a,s;return f===void 0&&(f={}),(a=e.call(this)||this).nn={},a.tn=0,a.rn=new ne,a.en=new ne,a.on=new ne,a.un=0,a.an=new Set,a.cn=function(){var u=a.fn,h=u.installing;a.tn>0||!re(h.scriptURL,a.sn.toString())||performance.now()>a.un+6e4?(a.vn=h,u.removeEventListener("updatefound",a.cn)):(a.hn=h,a.an.add(h),a.rn.resolve(h)),++a.tn,h.addEventListener("statechange",a.ln)},a.ln=function(u){var h=a.fn,l=u.target,p=l.state,g=l===a.vn,v={sw:l,isExternal:g,originalEvent:u};!g&&a.mn&&(v.isUpdate=!0),a.dispatchEvent(new O(p,v)),p==="installed"?a.wn=self.setTimeout(function(){p==="installed"&&h.waiting===l&&a.dispatchEvent(new O("waiting",v))},200):p==="activating"&&(clearTimeout(a.wn),g||a.en.resolve(l))},a.dn=function(u){var h=a.hn,l=h!==navigator.serviceWorker.controller;a.dispatchEvent(new O("controlling",{isExternal:l,originalEvent:u,sw:h,isUpdate:a.mn})),l||a.on.resolve(h)},a.gn=(s=function(u){var h=u.data,l=u.ports,p=u.source;return G(a.getSW(),function(){a.an.has(p)&&a.dispatchEvent(new O("message",{data:h,originalEvent:u,ports:l,sw:p}))})},function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];try{return Promise.resolve(s.apply(this,u))}catch(l){return Promise.reject(l)}}),a.sn=d,a.nn=f,navigator.serviceWorker.addEventListener("message",a.gn),a}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,r,c=o.prototype;return c.register=function(d){var f=(d===void 0?{}:d).immediate,a=f!==void 0&&f;try{var s=this;return function(u,h){var l=u();return l&&l.then?l.then(h):h(l)}(function(){if(!a&&document.readyState!=="complete")return Le(new Promise(function(u){return window.addEventListener("load",u)}))},function(){return s.mn=Boolean(navigator.serviceWorker.controller),s.yn=s.pn(),G(s.bn(),function(u){s.fn=u,s.yn&&(s.hn=s.yn,s.en.resolve(s.yn),s.on.resolve(s.yn),s.yn.addEventListener("statechange",s.ln,{once:!0}));var h=s.fn.waiting;return h&&re(h.scriptURL,s.sn.toString())&&(s.hn=h,Promise.resolve().then(function(){s.dispatchEvent(new O("waiting",{sw:h,wasWaitingBeforeRegister:!0}))}).then(function(){})),s.hn&&(s.rn.resolve(s.hn),s.an.add(s.hn)),s.fn.addEventListener("updatefound",s.cn),navigator.serviceWorker.addEventListener("controllerchange",s.dn),s.fn})})}catch(u){return Promise.reject(u)}},c.update=function(){try{return this.fn?Le(this.fn.update()):void 0}catch(d){return Promise.reject(d)}},c.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},c.messageSW=function(d){try{return G(this.getSW(),function(f){return Ce(f,d)})}catch(f){return Promise.reject(f)}},c.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Ce(this.fn.waiting,Mt)},c.pn=function(){var d=navigator.serviceWorker.controller;return d&&re(d.scriptURL,this.sn.toString())?d:void 0},c.bn=function(){try{var d=this;return function(f,a){try{var s=f()}catch(u){return a(u)}return s&&s.then?s.then(void 0,a):s}(function(){return G(navigator.serviceWorker.register(d.sn,d.nn),function(f){return d.un=performance.now(),f})},function(f){throw f})}catch(f){return Promise.reject(f)}},i=o,(r=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Ct(i.prototype,r),o}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,o){this.Sn(n).add(o)},t.removeEventListener=function(n,o){this.Sn(n).delete(o)},t.dispatchEvent=function(n){n.target=this;for(var o,i=Bt(this.Sn(n.type));!(o=i()).done;)(0,o.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function Rt(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:o,onRegistered:i,onRegisterError:r}=e;let c;const d=async(f=!0)=>{};return"serviceWorker"in navigator&&(c=new Pt("./sw.js",{scope:"./",type:"classic"}),c.addEventListener("activated",f=>{f.isUpdate?window.location.reload():o==null||o()}),c.register({immediate:t}).then(f=>{i==null||i(f)}).catch(f=>{r==null||r(f)})),d}const oe=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),Tt=(e,t,n)=>{let o,i,r;if(t===0)o=i=r=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;o=oe(d,c,e+1/3),i=oe(d,c,e),r=oe(d,c,e-1/3)}return[Math.round(o*255),Math.round(i*255),Math.round(r*255)]},Me=270,Pe=300,ot=new Array(256);for(let e=0;e<=255;e++){const t=ot[255-e]=new Uint8ClampedArray(4),n=e/255*Pe,o=n>Me?.5*((300-n)/(Pe-Me)):.5;t.set(Tt(n/360,1,o),0),t[3]=255}const P=ot,Re=new Uint8ClampedArray([0,0,0,255]),Dt=async(e,t)=>new AudioContext(t).decodeAudioData(await e.arrayBuffer()),it=e=>{const t=document.createElement("canvas"),n=t.getContext("2d",e);return[t,n]},st=(e,t)=>{const n=new MutationObserver(t);return n.observe(e,{attributes:!0,attributeFilter:["width","height"]}),()=>n.disconnect()},Ft=e=>{let t=-1;const n=()=>{e(),t=requestAnimationFrame(n)};return t=requestAnimationFrame(n),()=>cancelAnimationFrame(t)},Ut=28e3,Ot="RealtimeSpectrumRenderer",It=e=>{const[t,n]=it();let o=!1,i,r,c;const d={smoothingTimeConstant:0,fftSize:2**12,minDecibels:-120,maxDecibels:-20};let f=-1,a=0;const s={start:0,end:0},u=[],h=()=>{i&&r&&e({canvas:t,time:s,audioContext:i,audioAnalyzer:r,bufferSize:a})},l=st(t,()=>{const{width:k,height:E}=t;if(!o||!u.length)return;const b=u.slice(-k),S=new ImageData(b.length,E);for(let w=0;w<S.data.length;w+=4){const B=E-Math.floor(w/4/S.width),x=w/4%S.width,A=b[x],F=A.buffer.length/S.height,R=A.buffer[Math.floor(B*F)];if(R){const U=P[R];S.data.set(U,w)}else S.data.set(Re,w)}f=Math.min(b.length-1),n.putImageData(S,0,0),h()}),p=async()=>{l(),await g()},g=async()=>{c==null||c(),await(i==null?void 0:i.close()),i=void 0};return{name:Ot,analyzerOptions:d,resize:(k,E)=>{t.width=k,t.height=E},start:async()=>{if(o)return;const k=performance.now();o=!0;const E=await navigator.mediaDevices.getUserMedia({audio:{deviceId:"default"}});i=new AudioContext({sampleRate:Ut*2});const b=r=i.createAnalyser();i.createMediaStreamSource(E).connect(r),c=Ft(()=>{var ge,ye;const{height:w,width:B}=t,x=new Uint8Array(b.frequencyBinCount),A=new ImageData(1,w),F=x.length/w,R=Math.ceil(performance.now()-k);Object.assign(b,d),b.getByteFrequencyData(x);for(let q=0;q<w;q++){const be=x[Math.floor(q*F)],we=(w-q-1)*4;if(be){const dt=P[be];A.data.set(dt,we)}else A.data.set(Re,we)}const U=u.length?((ye=(ge=u.at(-1))==null?void 0:ge.at)!=null?ye:0)/1e3/u.length:0;f===B-1?(n.globalCompositeOperation="copy",n.drawImage(t,-1,0),n.putImageData(A,f,0),n.globalCompositeOperation="source-over",s.end=U*u.length,s.start=U*(u.length-B)):(n.putImageData(A,++f,0),s.end=U*B),u.push({buffer:x,at:R}),a+=x.length,h()})},stop:g,destroy:p}},Nt="AudioFileSpectrumRenderer",zt=e=>{const[t,n]=it();let o=!1,i,r,c,d;const f={smoothingTimeConstant:0,minDecibels:-120,maxDecibels:-20},a=p=>{let g=2;for(;g/2<p;)g*=2;return g},s=()=>{d&&i&&r&&c&&e({canvas:t,audioFile:d,audioContext:i,audioAnalyzer:r,audioBuffer:c})},u=async(p=d)=>{if(o||!p)return;o=!0,d=p,c=await Dt(p);const{width:g,height:v}=t,y=new Array(g);i=new OfflineAudioContext(c),r=i.createAnalyser(),r.fftSize=a(v),r.smoothingTimeConstant=0,r.connect(i.destination),Object.assign(r,f);const k=c.duration/y.length,E=r.frequencyBinCount;for(let w=0;w<y.length;w++){const B=w*k;i.suspend(B).then(()=>{i==null||i.resume(),r==null||r.getByteFrequencyData(y[w]=new Uint8Array(E))})}const b=i.createBufferSource();b.buffer=c,b.connect(r),b.start(),await i.startRendering();const S=new ImageData(g,v);for(let w=0;w<g;w++){const B=y[w];for(let x=0;x<v;x++){const A=B[x];if(A){const F=(w+(v-x-1)*g)*4,R=P[A];S.data.set(R,F)}}}n.putImageData(S,0,0),o=!1,s()},h=st(t,()=>{o=!1,u()});return{name:Nt,analyzerOptions:f,resize:(p,g)=>{t.width=p,t.height=g},render:u,destroy:h}},J=({width:e,height:t},{top:n,left:o,bottom:i,right:r})=>new DOMRect(o,n,e-o-r,t-n-i),pe=(e,t)=>{let n=2;for(;;){const o=n*2+n%2;if(t/o<e)break;n=o}return[n,t/n]},Ht={minDecibels:-120,maxDecibels:-20},jt=({context:e,margin:t,layout:n,decibelRange:o=Ht})=>{const i=J(e.canvas,t),r=i.right+10,c=i.top-1,d=r+n.width,f=i.bottom+1,a=e.createLinearGradient(r,c,d,f);for(let l=0;l<P.length;l++){const[p,g,v]=P[P.length-l-1];a.addColorStop(l/P.length,`rgb(${p}, ${g}, ${v})`)}e.fillStyle=a,e.fillRect(r,c,n.width,i.height),e.textAlign="left",e.textBaseline="middle",e.font="12px monospace";const[s,u]=pe(n.tickMinDistance,i.height),h=o.minDecibels-o.maxDecibels;for(let l=0;l<=s;l++){const p=c+l*u,g=`${Math.floor(l/s*h+o.maxDecibels)} dB`;e.fillStyle=a,e.fillRect(d,p,n.tickLength,n.tickThickness),e.fillStyle="white",e.fillText(g,d+n.tickLength+2,p+1)}},Wt=({context:e,margin:t,layout:n,sampleRate:o=48e3})=>{const i=J(e.canvas,t),r=i.height+1,[c,d]=pe(n.tickMinDistance,r),f=o/2/1e3;e.textAlign="right",e.textBaseline="middle";for(let a=0;a<=c;a++){const s=i.top+a*d-1,u=`${Math.floor((c-a)/c*f)} kHz`;e.fillRect(i.left-n.tickLength,s,n.tickLength,n.tickThickness),e.fillText(u,i.left-n.tickLength-2,s+1)}},qt=({context:e,margin:t,text:n})=>{e.fillStyle="white",e.textAlign="left",e.textBaseline="bottom",e.font="12px monospace",e.fillText(n,t.left,t.top-8)},Gt=e=>`${Math.floor(e/60)}:${String(e%60).padStart(2,"0")}`,Yt=({context:e,time:t,layout:n,margin:o})=>{const i=J(e.canvas,o),r=t.end-t.start,c=i.width+1,[d,f]=pe(n.tickMinDistance*2,c);e.strokeStyle="white",e.fillStyle="white",e.textAlign="center",e.textBaseline="hanging",e.font="12px monospace";for(let a=0;a<=d;a++){const s=i.left+a*f-1,u=Gt(Math.floor(t.start+a/d*r));e.fillRect(s,i.bottom,n.tickThickness,n.tickLength),e.fillText(u,s,i.bottom+n.tickLength+2)}};var ee,$,Te,X=0,ct=[],De=m.__b,Fe=m.__r,Ue=m.diffed,Oe=m.__c,Ie=m.unmount;function me(e,t){m.__h&&m.__h($,e,X||t),X=0;var n=$.__H||($.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ce(e){return X=1,Zt(lt,e)}function Zt(e,t,n){var o=me(ee++,2);return o.t=e,o.__c||(o.__=[n?n(t):lt(void 0,t),function(i){var r=o.t(o.__[0],i);o.__[0]!==r&&(o.__=[r,o.__[1]],o.__c.setState({}))}],o.__c=$),o.__}function I(e,t){var n=me(ee++,3);!m.__s&&at(n.__H,t)&&(n.__=e,n.__H=t,$.__H.__h.push(n))}function Kt(e){return X=5,Vt(function(){return{current:e}},[])}function Vt(e,t){var n=me(ee++,7);return at(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Qt(){for(var e;e=ct.shift();)if(e.__P)try{e.__H.__h.forEach(Z),e.__H.__h.forEach(ae),e.__H.__h=[]}catch(t){e.__H.__h=[],m.__e(t,e.__v)}}m.__b=function(e){$=null,De&&De(e)},m.__r=function(e){Fe&&Fe(e),ee=0;var t=($=e.__c).__H;t&&(t.__h.forEach(Z),t.__h.forEach(ae),t.__h=[])},m.diffed=function(e){Ue&&Ue(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(ct.push(t)!==1&&Te===m.requestAnimationFrame||((Te=m.requestAnimationFrame)||function(n){var o,i=function(){clearTimeout(r),Ne&&cancelAnimationFrame(o),setTimeout(n)},r=setTimeout(i,100);Ne&&(o=requestAnimationFrame(i))})(Qt)),$=null},m.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Z),n.__h=n.__h.filter(function(o){return!o.__||ae(o)})}catch(o){t.some(function(i){i.__h&&(i.__h=[])}),t=[],m.__e(o,n.__v)}}),Oe&&Oe(e,t)},m.unmount=function(e){Ie&&Ie(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{Z(o)}catch(i){t=i}}),t&&m.__e(t,n.__v))};var Ne=typeof requestAnimationFrame=="function";function Z(e){var t=$,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),$=t}function ae(e){var t=$;e.__c=e.__(),$=t}function at(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function lt(e,t){return typeof t=="function"?t(e):t}let le={renderer:void 0};const ue=new Set,Xt=e=>{le=e,ue.forEach(t=>t({}))},ut=()=>{const[,e]=ce({}),t=n=>Xt(te(T({},le),{renderer:n}));return I(()=>(ue.add(e),()=>ue.delete(e))),{state:le,setRenderer:t}},Jt=(e,t=devicePixelRatio)=>{e.width=0,e.height=0;const n=e.getBoundingClientRect(),o=Math.round(t*n.right)-Math.round(t*n.left),i=Math.round(t*n.bottom)-Math.round(t*n.top);return{width:o,height:i}},en=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],tn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],nn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],rn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],ze=(e,t,n)=>{let o=e;return typeof t=="string"||Array.isArray(t)?o=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(o=e.toLocaleString(void 0,n)),o};function on(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t=T({bits:!1,binary:!1},t);const n=t.bits?t.binary?rn:nn:t.binary?tn:en;if(t.signed&&e===0)return` 0 ${n[0]}`;const o=e<0,i=o?"-":t.signed?"+":"";o&&(e=-e);let r;if(t.minimumFractionDigits!==void 0&&(r={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(r=T({maximumFractionDigits:t.maximumFractionDigits},r)),e<1){const a=ze(e,t.locale,r);return i+a+" "+n[0]}const c=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),n.length-1);e/=(t.binary?1024:1e3)**c,r||(e=e.toPrecision(3));const d=ze(Number(e),t.locale,r),f=n[c];return i+d+" "+f}const sn="_canvas_neruw_1";var cn={canvas:sn};function an(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t}var ln=an(At),_t,ft,_e=ln,un=0;function He(e,t,n,o,i){var r,c,d={};for(c in t)c=="ref"?r=t[c]:d[c]=t[c];var f={type:e,props:d,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--un,__source:i,__self:o};if(typeof e=="function"&&(r=e.defaultProps))for(c in r)d[c]===void 0&&(d[c]=r[c]);return _e.options.vnode&&_e.options.vnode(f),f}_e.Fragment,ft=He,_t=He;const C=ft,fe=_t,M={top:35,right:100,bottom:35,left:65},ve={tickMinDistance:50,tickThickness:1,tickLength:10},_n=te(T({},ve),{width:10}),fn=T({},ve),dn=()=>{const[e,t]=ce(),[n,o]=ce(),i=Kt(null),r=ut(),c=(f,a,s,u,h)=>{if(!i.current||!n)return;const l=J(i.current,M);n.clearRect(0,0,i.current.width,i.current.height),a&&n.drawImage(a,M.left,M.top),n.fillStyle="white",n.strokeStyle="white",n.strokeRect(l.left-.5,l.top-.5,l.width+1,l.height+1),s&&Yt({context:n,margin:M,time:s,layout:ve}),jt({context:n,margin:M,decibelRange:u,layout:_n}),Wt({context:n,margin:M,layout:fn,sampleRate:h==null?void 0:h.sampleRate}),qt({context:n,margin:M,text:f})},d=()=>{if(!i.current||!n)return;const{width:f,height:a}=Jt(i.current),{top:s,right:u,bottom:h,left:l}=M;i.current.width=f,i.current.height=a,e==null||e.resize(f-l-u,a-s-h),c("Record audio or select an file to analyze...")};return I(()=>{d()},[n]),I(()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d))),I(()=>{var f;o((f=i.current)==null?void 0:f.getContext("2d",{alpha:!1}))},[i]),I(()=>{var f;if(!!n)switch(e==null||e.destroy(),(f=r.state.renderer)==null?void 0:f.type){case"realtime":const a=It(u=>{const h=u.audioContext.sampleRate.toLocaleString(),l=on(u.bufferSize,{minimumFractionDigits:2,maximumFractionDigits:2}),p=`Recording with a sample-rate of ${h} (Buffer: ${l})`;c(p,u.canvas,u.time,u.audioAnalyzer,u.audioContext)});t(a),a.start();break;case"file":const s=zt(u=>{const h=u.audioContext.sampleRate.toLocaleString(),l=u.audioBuffer.length/u.audioBuffer.duration*8,p=`${u.audioFile.name} (${u.audioFile.type}, ${h} Hz, ${l/1e3}kbps, ${u.audioBuffer.numberOfChannels} channels)`;c(p,u.canvas,{start:0,end:u.audioBuffer.duration},u.audioAnalyzer,u.audioContext)});t(s),s.render(r.state.renderer.file);break}},[r.state.renderer,n]),C("div",{className:cn.canvas,style:"color: red",children:C("canvas",{ref:i})})},hn=({accept:e,multiple:t}={})=>{const n=document.createElement("input");return document.body.appendChild(n),n.type="file",n.style.display="none",e&&(n.accept=e),t&&(n.multiple=t),new Promise((o,i)=>{n.onchange=()=>{var c;const r=Array.from((c=n.files)!=null?c:[]);r.length?o(t?r:r[0]):i()},document.body.removeChild(n),n.click()})},pn="_header_s2mkq_1",mn="_file_s2mkq_17",vn="_realtime_s2mkq_27",gn="_gitHubLink_s2mkq_37";var Y={header:pn,file:mn,realtime:vn,gitHubLink:gn};const yn=()=>{var i;const e=ut(),t=(i=e.state.renderer)==null?void 0:i.type,n=()=>{e.setRenderer(t&&t!=="file"?void 0:{type:"realtime"})},o=()=>{hn({multiple:!1,accept:"audio/*"}).then(r=>{e.setRenderer({file:r,type:"file"})})};return fe("div",{className:Y.header,children:[C("button",{className:Y.realtime,onClick:n,children:t==="realtime"?"Stop recording":"Record"}),C("button",{className:Y.file,onClick:o,children:"ANALYZE FILE"}),C("a",{href:"https://github.com/Simonwep/spectrum",className:Y.gitHubLink,children:fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[C("path",{fill:"none",d:"M0 0h24v24H0z"}),C("path",{d:"M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"})]})})]})},bn="_app_16p5u_1";var wn={app:bn};const kn=()=>fe("div",{className:wn.app,children:[C(yn,{}),C(dn,{})]});he(C(kn,{}),document.getElementById("app"));Rt();
